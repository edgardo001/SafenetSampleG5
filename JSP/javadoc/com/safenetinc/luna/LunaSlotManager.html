<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Tue Aug 18 21:17:05 EDT 2015 -->
<TITLE>
LunaSlotManager (Luna Java Security Provider API)
</TITLE>

<META NAME="date" CONTENT="2015-08-18">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LunaSlotManager (Luna Java Security Provider API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Luna JSP</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/safenetinc/luna/LunaSessionManager.html" title="class in com.safenetinc.luna"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/safenetinc/luna/LunaSlotManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LunaSlotManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.safenetinc.luna</FONT>
<BR>
Class LunaSlotManager</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.safenetinc.luna.LunaSlotManager</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>LunaSlotManager</B><DT>extends <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
This class is used to manage access to SafeNet, Inc Luna hardware security
 modules (HSMs).  It handles logins, logouts and session management for HSM
 partitions at all available slots.
 <p>
 The JCE API is not adequate for dealing with all the interfaces available
 with Luna HSMs.  <code>LunaSlotManager</code> methods provide additional
 functionality where necessary.
 <p>
 When the application starts up, <code>LunaSlotManager</code> attempts to
 find already-logged-in slots.  If any are detected, it sets up the login
 state internally so the user doesn't have to log in again.  These initial
 logged-in slots are given CRYPTO_USER privileges.
 <p>
 If a login was done external to <code>LunaSlotManager</code> with a non-
 default application id, <code>setApplicationId</code> should be used to
 set <code>LunaSlotManager</code>'s id to that value.
 <p> 
 The first logged-in slot is used as the default slot for all crypto
 operations where a slot is not explicitly specified (this includes all
 JCA/JCE crypto operations).  This default can be changed with
 <code>setDefaultSlot</code> if more slots are logged in to later.  If
 the default slot is changed while the application is running, the value
 will change across all threads.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#areSecretKeysExtractable()">areSecretKeysExtractable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if newly-generated secret keys are extractable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#findSlotFromLabel(java.lang.String)">findSlotFromLabel</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;tokenLabel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Searches the currently present slots for one with a label matching
 the one we're given.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getCurrentObjectCount()">getCurrentObjectCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current persistent object count for the token at the
 current default slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getCurrentObjectCount(int)">getCurrentObjectCount</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current persistent object count for the token at the
 specified slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getCurrentTotalObjectCount()">getCurrentTotalObjectCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current persistent object count all logged-in tokens.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getDefaultSlot()">getDefaultSlot</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the current default slot number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getHAStatus()">getHAStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the HA Status for the default slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getHAStatus(int)">getHAStatus</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the HA Status for the specified slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../com/safenetinc/luna/LunaSlotManager.html" title="class in com.safenetinc.luna">LunaSlotManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getInstance()">getInstance</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the only instance of the singleton LunaSlotManager class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/safenetinc/luna/LunaAPI.html" title="class in com.safenetinc.luna">LunaAPI</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getLunaAPI()">getLunaAPI</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a reference to the LunaAPI object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getNumberOfSlots()">getNumberOfSlots</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines how many slots are present in the system.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getSlotList()">getSlotList</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list of slots that have tokens present.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getTokenLabel(int)">getTokenLabel</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the label of the token contained in the given slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getTokenSerialNumber(int)">getTokenSerialNumber</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the serial number of the token contained in the given slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getWrappingKeyBytesToo(int)">getWrappingKeyBytesToo</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getWrappingKeyHandle(int)">getWrappingKeyHandle</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the handle for the wrapping key for a given slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#getWrappingKeyHandleToo(int)">getWrappingKeyHandleToo</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#isAttributeCachingEnabled()">isAttributeCachingEnabled</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if PKCS attribute caching is enabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#isFIPSEnabled()">isFIPSEnabled</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the FIPS-enabled status of the provider, as shown below.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#isLoggedIn()">isLoggedIn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if the application is logged in to at least one token.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#isShuttingDown()">isShuttingDown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return true if the application's shutdown hook has been called,
 false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#isTokenPresent(int)">isTokenPresent</A></B>(int&nbsp;slot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tests a slot to see if a token is present at the given slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#login(int, java.lang.String)">login</A></B>(int&nbsp;slot,
      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logs in to a slot as a normal user role with the specified password.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#login(int, com.safenetinc.luna.UserRole, java.lang.String)">login</A></B>(int&nbsp;slot,
      <A HREF="../../../com/safenetinc/luna/UserRole.html" title="enum in com.safenetinc.luna">UserRole</A>&nbsp;userType,
      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logs in to a slot with the specified user role and password.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#login(java.lang.String)">login</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logs in to the current default slot as a normal user, using the given
 password.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#login(java.lang.String, java.lang.String)">login</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;tokenLabel,
      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logs in to the token with the given label as a normal user,
 with the given password.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#logout()">logout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logs out from the current default slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#logout(int)">logout</A></B>(int&nbsp;slotNum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logs out from the specified slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#querySecretKeysDeriveFlag()">querySecretKeysDeriveFlag</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if newly-generated secret keys can derive other keys.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#reinitialize()">reinitialize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Re-initializes the connection to the HSM.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#releaseKey(com.safenetinc.luna.LunaTokenObject)">releaseKey</A></B>(<A HREF="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</A>&nbsp;lto)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Releases a reference to a session key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#setApplicationId(int, int)">setApplicationId</A></B>(int&nbsp;majorId,
                 int&nbsp;minorId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the major and minor application IDs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#setAttributeCaching(boolean)">setAttributeCaching</A></B>(boolean&nbsp;enabled)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enables or disables attribute caching.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#setDefaultSlot(int)">setDefaultSlot</A></B>(int&nbsp;slotNum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the default slot to the given slot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#setSecretKeysDeriveFlag(boolean)">setSecretKeysDeriveFlag</A></B>(boolean&nbsp;deriveFlag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether newly-generated secret keys will be created with the
 derive flag set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#setSecretKeysExtractable(boolean)">setSecretKeysExtractable</A></B>(boolean&nbsp;extractable)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether newly-generated secret keys will be created with the
 extractable flag set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/safenetinc/luna/LunaSlotManager.html#setThreadLocalDefaultSlot(boolean)">setThreadLocalDefaultSlot</A></B>(boolean&nbsp;threadLocal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines if the default slot will be global or thread-local.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getInstance()"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static <A HREF="../../../com/safenetinc/luna/LunaSlotManager.html" title="class in com.safenetinc.luna">LunaSlotManager</A> <B>getInstance</B>()</PRE>
<DL>
<DD>Returns the only instance of the singleton LunaSlotManager class.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A reference to the LunaSlotManager object.</DL>
</DD>
</DL>
<HR>

<A NAME="getLunaAPI()"><!-- --></A><H3>
getLunaAPI</H3>
<PRE>
public <A HREF="../../../com/safenetinc/luna/LunaAPI.html" title="class in com.safenetinc.luna">LunaAPI</A> <B>getLunaAPI</B>()</PRE>
<DL>
<DD>Returns a reference to the LunaAPI object.  Generally this should
 not be used by user applications.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The LunaAPI object</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultSlot()"><!-- --></A><H3>
getDefaultSlot</H3>
<PRE>
public int <B>getDefaultSlot</B>()</PRE>
<DL>
<DD>Gets the current default slot number.  This slot will be used by the
 Java crypto provider implementation, as there is no way to specify a
 specific slot to in the provider API.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The slot number of the currently active slot. If there is no
      logged in slot, returns -1</DL>
</DD>
</DL>
<HR>

<A NAME="setDefaultSlot(int)"><!-- --></A><H3>
setDefaultSlot</H3>
<PRE>
public boolean <B>setDefaultSlot</B>(int&nbsp;slotNum)</PRE>
<DL>
<DD>Sets the default slot to the given slot.  If thread-local default
 slots are enabled, this default slot value is only valid for the
 thread that calls this method.  If they are disabled, the default
 slot set here will take effect globally.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slotNum</CODE> - The slot to make the default.  This must be a
      logged-in slot
<DT><B>Returns:</B><DD>true if the default slot was changed, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="isFIPSEnabled()"><!-- --></A><H3>
isFIPSEnabled</H3>
<PRE>
public boolean <B>isFIPSEnabled</B>()</PRE>
<DL>
<DD>Returns the FIPS-enabled status of the provider, as shown below.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the provider is in FIPS mode
         false if the provider is in non-FIPS mode</DL>
</DD>
</DL>
<HR>

<A NAME="areSecretKeysExtractable()"><!-- --></A><H3>
areSecretKeysExtractable</H3>
<PRE>
public boolean <B>areSecretKeysExtractable</B>()</PRE>
<DL>
<DD>Checks if newly-generated secret keys are extractable.  A value of true
 does not imply that all secret keys are extractable, only that any
 secret keys generated by the Luna provider from this point on will
 have the extractable flag set.
 <p>
 The default value is <code>false</code>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true  If secret keys will be generated with the extractable flag
      set to true</DL>
</DD>
</DL>
<HR>

<A NAME="setSecretKeysExtractable(boolean)"><!-- --></A><H3>
setSecretKeysExtractable</H3>
<PRE>
public void <B>setSecretKeysExtractable</B>(boolean&nbsp;extractable)</PRE>
<DL>
<DD>Determines whether newly-generated secret keys will be created with the
 extractable flag set. If a key is not extractable, it cannot be wrapped
 off the token.  Using this method will override the default configuration.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>extractable</CODE> - The extractable setting.</DL>
</DD>
</DL>
<HR>

<A NAME="querySecretKeysDeriveFlag()"><!-- --></A><H3>
querySecretKeysDeriveFlag</H3>
<PRE>
public boolean <B>querySecretKeysDeriveFlag</B>()</PRE>
<DL>
<DD>Checks if newly-generated secret keys can derive other keys.
 Any secret keys generated by the Luna provider from this point on will
 have the derive flag set.
 <p>
 The default value is <code>false</code>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true  If secret keys will be generated with the derive flag
      set to true</DL>
</DD>
</DL>
<HR>

<A NAME="setSecretKeysDeriveFlag(boolean)"><!-- --></A><H3>
setSecretKeysDeriveFlag</H3>
<PRE>
public void <B>setSecretKeysDeriveFlag</B>(boolean&nbsp;deriveFlag)</PRE>
<DL>
<DD>Determines whether newly-generated secret keys will be created with the
 derive flag set.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>deriveFlag</CODE> - The derive setting.</DL>
</DD>
</DL>
<HR>

<A NAME="isAttributeCachingEnabled()"><!-- --></A><H3>
isAttributeCachingEnabled</H3>
<PRE>
public boolean <B>isAttributeCachingEnabled</B>()</PRE>
<DL>
<DD>Checks if PKCS attribute caching is enabled.  If it is enabled, the
 provider will cache PKCS attributes for each object as they are read,
 and will use that cache for future reads.  If it is disabled, the
 provider will go to the HSM for every attribute read.
 <p>
 The caching behaviour for provider objects is dynamic.  If this attribute
 is changed from <code>true</code> to <code>false</code>, all existing
 provider objects will access the HSM directly for their next attribute
 read.  Note: in this scenario objects will clear their entire cache the
 first time an attribute is requested after this setting has been changed.
 <p>
 Caching is enabled by default to enhance performance.  To ensure data
 consistency, it should be disabled if another application is accessing the
 same HSM objects, or if LunaAPI is being used to manipulate the objects
 directly.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if attribute caching is enabled, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="setAttributeCaching(boolean)"><!-- --></A><H3>
setAttributeCaching</H3>
<PRE>
public void <B>setAttributeCaching</B>(boolean&nbsp;enabled)</PRE>
<DL>
<DD>Enables or disables attribute caching.  See <code>isAttributeCachingEnabled</code>
 for more discussion of the consequences.
 <p>
 Attribute caching is enabled by default.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>enabled</CODE> - the new value of the attribute caching parameter</DL>
</DD>
</DL>
<HR>

<A NAME="setThreadLocalDefaultSlot(boolean)"><!-- --></A><H3>
setThreadLocalDefaultSlot</H3>
<PRE>
public void <B>setThreadLocalDefaultSlot</B>(boolean&nbsp;threadLocal)</PRE>
<DL>
<DD>Determines if the default slot will be global or thread-local.
 <p>
 If thread-local default slots are enabled while there are multiple
 threads, the default slot for each thread is initially set to the
 value of the global default slot at that time. If thread-local default
 slots are disabled while the application is running, the last slot set
 using <code>setDefaultSlot</code> will become the global default slot.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>threadLocal</CODE> - If true, the default slot will be thread-local.
      If false, the default slot will be global.</DL>
</DD>
</DL>
<HR>

<A NAME="isShuttingDown()"><!-- --></A><H3>
isShuttingDown</H3>
<PRE>
public boolean <B>isShuttingDown</B>()</PRE>
<DL>
<DD>Return true if the application's shutdown hook has been called,
 false otherwise.  If the application is shutting down, the connection
 to the HSM is about to die. Various LunaAPI calls may fail if this
 connection is dead.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the application's shutdown hook has been called</DL>
</DD>
</DL>
<HR>

<A NAME="getWrappingKeyHandle(int)"><!-- --></A><H3>
getWrappingKeyHandle</H3>
<PRE>
public int <B>getWrappingKeyHandle</B>(int&nbsp;slot)</PRE>
<DL>
<DD>Returns the handle for the wrapping key for a given slot.  This key
 is used internally to inject keys into the HSM and to extract secret
 keys from the HSM.  This key is a session object that is regenerated
 after every new login to the slot.
 <p>
 This method is for internal use only.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - the slot to get the wrapping key for
<DT><B>Returns:</B><DD>the handle of the wrapping key, or -1 if none could be obtained</DL>
</DD>
</DL>
<HR>

<A NAME="getWrappingKeyHandleToo(int)"><!-- --></A><H3>
getWrappingKeyHandleToo</H3>
<PRE>
public int <B>getWrappingKeyHandleToo</B>(int&nbsp;slot)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getWrappingKeyBytesToo(int)"><!-- --></A><H3>
getWrappingKeyBytesToo</H3>
<PRE>
public byte[] <B>getWrappingKeyBytesToo</B>(int&nbsp;slot)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentObjectCount(int)"><!-- --></A><H3>
getCurrentObjectCount</H3>
<PRE>
public int <B>getCurrentObjectCount</B>(int&nbsp;slot)
                          throws <A HREF="../../../com/safenetinc/luna/LunaException.html" title="class in com.safenetinc.luna">LunaException</A></PRE>
<DL>
<DD>Returns the current persistent object count for the token at the
 specified slot.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - The slot to check
<DT><B>Returns:</B><DD>The number of persistent objects at the specified slot
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/safenetinc/luna/LunaException.html" title="class in com.safenetinc.luna">LunaException</A></CODE> - If the slot is uninitialized</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentObjectCount()"><!-- --></A><H3>
getCurrentObjectCount</H3>
<PRE>
public int <B>getCurrentObjectCount</B>()
                          throws <A HREF="../../../com/safenetinc/luna/LunaException.html" title="class in com.safenetinc.luna">LunaException</A></PRE>
<DL>
<DD>Returns the current persistent object count for the token at the
 current default slot.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The number of persistent objects at the default slot
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/safenetinc/luna/LunaException.html" title="class in com.safenetinc.luna">LunaException</A></CODE> - If there is no default slot</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentTotalObjectCount()"><!-- --></A><H3>
getCurrentTotalObjectCount</H3>
<PRE>
public int <B>getCurrentTotalObjectCount</B>()</PRE>
<DL>
<DD>Returns the current persistent object count all logged-in tokens.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The total number of persistent objects available to the
      application</DL>
</DD>
</DL>
<HR>

<A NAME="getNumberOfSlots()"><!-- --></A><H3>
getNumberOfSlots</H3>
<PRE>
public int <B>getNumberOfSlots</B>()</PRE>
<DL>
<DD>Determines how many slots are present in the system.  These slots
 do not necessarily have tokens present.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The number of slots</DL>
</DD>
</DL>
<HR>

<A NAME="getSlotList()"><!-- --></A><H3>
getSlotList</H3>
<PRE>
public int[] <B>getSlotList</B>()</PRE>
<DL>
<DD>Returns a list of slots that have tokens present.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A list of slot numbers that have a token present</DL>
</DD>
</DL>
<HR>

<A NAME="isTokenPresent(int)"><!-- --></A><H3>
isTokenPresent</H3>
<PRE>
public boolean <B>isTokenPresent</B>(int&nbsp;slot)</PRE>
<DL>
<DD>Tests a slot to see if a token is present at the given slot.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - The number of the slot to test
<DT><B>Returns:</B><DD><code>true</code> if a token is present in the slot</DL>
</DD>
</DL>
<HR>

<A NAME="getTokenLabel(int)"><!-- --></A><H3>
getTokenLabel</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getTokenLabel</B>(int&nbsp;slot)
                     throws <A HREF="../../../com/safenetinc/luna/LunaCryptokiException.html" title="class in com.safenetinc.luna">LunaCryptokiException</A></PRE>
<DL>
<DD>Reads the label of the token contained in the given slot.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - The slot of the token to read
<DT><B>Returns:</B><DD>The label of the token in the given slot
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/safenetinc/luna/LunaCryptokiException.html" title="class in com.safenetinc.luna">LunaCryptokiException</A></CODE> - If there is no token at that slot</DL>
</DD>
</DL>
<HR>

<A NAME="getTokenSerialNumber(int)"><!-- --></A><H3>
getTokenSerialNumber</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getTokenSerialNumber</B>(int&nbsp;slot)
                            throws <A HREF="../../../com/safenetinc/luna/LunaCryptokiException.html" title="class in com.safenetinc.luna">LunaCryptokiException</A></PRE>
<DL>
<DD>Reads the serial number of the token contained in the given slot.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - The slot of the token to read
<DT><B>Returns:</B><DD>The serial number of the token in the given slot
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/safenetinc/luna/LunaCryptokiException.html" title="class in com.safenetinc.luna">LunaCryptokiException</A></CODE> - If there is no token at that slot</DL>
</DD>
</DL>
<HR>

<A NAME="setApplicationId(int, int)"><!-- --></A><H3>
setApplicationId</H3>
<PRE>
public void <B>setApplicationId</B>(int&nbsp;majorId,
                             int&nbsp;minorId)</PRE>
<DL>
<DD>Sets the major and minor application IDs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>majorId</CODE> - The major application ID<DD><CODE>minorId</CODE> - The minor application ID</DL>
</DD>
</DL>
<HR>

<A NAME="getHAStatus(int)"><!-- --></A><H3>
getHAStatus</H3>
<PRE>
public <A HREF="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</A> <B>getHAStatus</B>(int&nbsp;slot)</PRE>
<DL>
<DD>Gets the HA Status for the specified slot. This method will not return
 anything meaningful if the slot is not an HA slot.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - The slot to check the HA status on
<DT><B>Returns:</B><DD>A <code>LunaHAStatus</code> object containing the status information</DL>
</DD>
</DL>
<HR>

<A NAME="getHAStatus()"><!-- --></A><H3>
getHAStatus</H3>
<PRE>
public <A HREF="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</A> <B>getHAStatus</B>()</PRE>
<DL>
<DD>Gets the HA Status for the default slot. This method will not return
 anything meaningful if the slot is not an HA slot.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A <code>LunaHAStatus</code> object containing the status information</DL>
</DD>
</DL>
<HR>

<A NAME="isLoggedIn()"><!-- --></A><H3>
isLoggedIn</H3>
<PRE>
public boolean <B>isLoggedIn</B>()</PRE>
<DL>
<DD>Checks if the application is logged in to at least one token.
 <p>
 This method only checks slots that were already logged in when the
 application was started, and slots that have been logged in to by this
 application.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true  If the application is logged in to at least one token</DL>
</DD>
</DL>
<HR>

<A NAME="releaseKey(com.safenetinc.luna.LunaTokenObject)"><!-- --></A><H3>
releaseKey</H3>
<PRE>
public void <B>releaseKey</B>(<A HREF="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</A>&nbsp;lto)</PRE>
<DL>
<DD>Releases a reference to a session key.  This is for internal use only;
 see <code>LunaKey.release()</code> for the public API.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lto</CODE> - the session key to release</DL>
</DD>
</DL>
<HR>

<A NAME="login(int, com.safenetinc.luna.UserRole, java.lang.String)"><!-- --></A><H3>
login</H3>
<PRE>
public boolean <B>login</B>(int&nbsp;slot,
                     <A HREF="../../../com/safenetinc/luna/UserRole.html" title="enum in com.safenetinc.luna">UserRole</A>&nbsp;userType,
                     <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</PRE>
<DL>
<DD>Logs in to a slot with the specified user role and password.
 <p>
 Slots are enumerated starting from 1 (e.g. a system with four slots
 would have slots numbered '1', '2', '3' and '4').
 <p>
 If an application attempts to use a Luna HSM without explicitly logging
 in, the Luna provider will attempt to find a token which is already
 logged in.  If no such token exists, an exception will be thrown.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - The slot containing the token to log in to<DD><CODE>userType</CODE> - The type of user logging in<DD><CODE>password</CODE> - The password to use for login. If the given slot
      contains a token which requires use of the PED for PIN entry,
      the password parameter is ignored.</DL>
</DD>
</DL>
<HR>

<A NAME="login(int, java.lang.String)"><!-- --></A><H3>
login</H3>
<PRE>
public boolean <B>login</B>(int&nbsp;slot,
                     <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</PRE>
<DL>
<DD>Logs in to a slot as a normal user role with the specified password.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slot</CODE> - The slot containing the token to log in to<DD><CODE>password</CODE> - The password to use for login. If the given slot
        contains a token which requires use of the PED for PIN entry,
        the password parameter is ignored.
<DT><B>Returns:</B><DD>true if the login succeeded
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/safenetinc/luna/LunaException.html" title="class in com.safenetinc.luna">LunaException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="login(java.lang.String)"><!-- --></A><H3>
login</H3>
<PRE>
public int <B>login</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</PRE>
<DL>
<DD>Logs in to the current default slot as a normal user, using the given
 password.  If there is no default slot, we try the first token we
 encounter.  This method should only be used if there is only one token
 present on the system.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>password</CODE> - The password to use for the login.
<DT><B>Returns:</B><DD>The slot logged in to</DL>
</DD>
</DL>
<HR>

<A NAME="login(java.lang.String, java.lang.String)"><!-- --></A><H3>
login</H3>
<PRE>
public boolean <B>login</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;tokenLabel,
                     <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;password)</PRE>
<DL>
<DD>Logs in to the token with the given label as a normal user,
 with the given password.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokenLabel</CODE> - The label of the token to which to login<DD><CODE>password</CODE> - The password to use for the login
<DT><B>Returns:</B><DD>true if the login succeeds, or false if there is no token
    with the given label
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/safenetinc/luna/LunaException.html" title="class in com.safenetinc.luna">LunaException</A></CODE> - if the given password is incorrect</DL>
</DD>
</DL>
<HR>

<A NAME="findSlotFromLabel(java.lang.String)"><!-- --></A><H3>
findSlotFromLabel</H3>
<PRE>
public int <B>findSlotFromLabel</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;tokenLabel)</PRE>
<DL>
<DD>Searches the currently present slots for one with a label matching
 the one we're given.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokenLabel</CODE> - The token label to search for
<DT><B>Returns:</B><DD>The slot number of the matching token, or -1 if no matching
      slot is found</DL>
</DD>
</DL>
<HR>

<A NAME="logout()"><!-- --></A><H3>
logout</H3>
<PRE>
public void <B>logout</B>()</PRE>
<DL>
<DD>Logs out from the current default slot.  All open sessions on this slot
 will be closed.  All threads within the current application are
 affected by this call (i.e. the login state applies to the entire
 application).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="logout(int)"><!-- --></A><H3>
logout</H3>
<PRE>
public void <B>logout</B>(int&nbsp;slotNum)</PRE>
<DL>
<DD>Logs out from the specified slot.  All open sessions on this slot
 will be closed.  All threads within the current application are
 affected by this call (i.e. login state applies to the entire
 application).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>slotNum</CODE> - The slot to log out of</DL>
</DD>
</DL>
<HR>

<A NAME="reinitialize()"><!-- --></A><H3>
reinitialize</H3>
<PRE>
public void <B>reinitialize</B>()</PRE>
<DL>
<DD>Re-initializes the connection to the HSM.  This method can be used
 if the NTLS connection is broken (due to a network timeout, for example).
 <p>
 This operation had consequences to be aware of:
 <ul>
 <li>Re-initializing the connection will kill all existing sessions,
     so all session objects will be lost.</li>
 <li>Because of the above, any Java crypto objects generated by the Luna
     provider that referred to session objects on the HSM will be invalidated.
     After the re-init they will throw LunaException for most common
     operations.</li>  
 <li>The PKCS11 spec says that any operations in progress when the
     library is finalized will have "undefined" behaviour.  In practice
     this could mean an application crash.  It is highly recommended that
     all application threads are allowed to complete their current
     operation before calling <code>reinitialize()</code></li>
 <li>If the application was working against an HA slot when
     <code>reinitialize()</code> was called then the object handles of token
     objects may change, due to the fact that the HA library uses a virtual
     handle table.  In this case best practice would be to let all Java crypto
     objects that refer to token objects on the HSM be garbage collected before
     calling <code>reinitialize()</code>.</li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Luna JSP</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/safenetinc/luna/LunaSessionManager.html" title="class in com.safenetinc.luna"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/safenetinc/luna/LunaSlotManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LunaSlotManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<small>Copyright 2014-2015 SafeNet Inc</small>
</BODY>
</HTML>
